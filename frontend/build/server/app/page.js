(()=>{var e={};e.id=974,e.ids=[974],e.modules={440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(1658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},636:(e,t,r)=>{"use strict";r.d(t,{A:()=>N});var s=r(3210),a=r(9384),i=r(9282),o=r(2899),n=r(5591),l=r(3555),d=r(5258),c=r(4754),u=r(7607),p=r(8205),h=r(6261),m=r(6065),x=r(6806),b=r(4144);let g=(0,b.A)("MuiListItemIcon",["root","alignItemsFlexStart"]),f=(0,b.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var v=r(2816);function y(e){return(0,v.Ay)("MuiMenuItem",e)}let j=(0,b.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var w=r(687);let A=e=>{let{disabled:t,dense:r,divider:s,disableGutters:a,selected:o,classes:n}=e,l=(0,i.A)({root:["root",r&&"dense",t&&"disabled",!a&&"gutters",s&&"divider",o&&"selected"]},y,n);return{...n,...l}},k=(0,l.Ay)(p.A,{shouldForwardProp:e=>(0,n.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]}})((0,d.A)(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${j.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,o.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${j.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,o.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${j.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,o.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,o.X4)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${j.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${j.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${x.A.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${x.A.inset}`]:{marginLeft:52},[`& .${f.root}`]:{marginTop:0,marginBottom:0},[`& .${f.inset}`]:{paddingLeft:36},[`& .${g.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${g.root} svg`]:{fontSize:"1.25rem"}}}]}))),N=s.forwardRef(function(e,t){let r,i=(0,c.b)({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:n="li",dense:l=!1,divider:d=!1,disableGutters:p=!1,focusVisibleClassName:x,role:b="menuitem",tabIndex:g,className:f,...v}=i,y=s.useContext(u.A),j=s.useMemo(()=>({dense:l||y.dense||!1,disableGutters:p}),[y.dense,l,p]),N=s.useRef(null);(0,h.A)(()=>{o&&N.current&&N.current.focus()},[o]);let C={...i,dense:j.dense,divider:d,disableGutters:p},P=A(i),S=(0,m.A)(N,t);return i.disabled||(r=void 0!==g?g:-1),(0,w.jsx)(u.A.Provider,{value:j,children:(0,w.jsx)(k,{ref:S,role:b,tabIndex:r,component:n,focusVisibleClassName:(0,a.A)(P.focusVisible,x),className:(0,a.A)(P.root,f),...v,ownerState:C,classes:P})})})},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1135:()=>{},1204:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Aetherdesk\\\\frontend\\\\src\\\\app\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Aetherdesk\\frontend\\src\\app\\page.tsx","default")},1573:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},1663:(e,t,r)=>{Promise.resolve().then(r.bind(r,8780))},2554:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>a});var s=r(2907);let a=(0,s.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Aetherdesk\\frontend\\src\\context\\AuthContext.tsx","AuthProvider");(0,s.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Aetherdesk\\frontend\\src\\context\\AuthContext.tsx","useAuth")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>i});var s=r(7413);r(1135);var a=r(2554);let i={title:"Ai Support Platform",description:"Support platform with AI assistance"};function o({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{children:(0,s.jsx)(a.AuthProvider,{children:e})})})}},4874:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(5239),a=r(8088),i=r(8170),o=r.n(i),n=r(893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d={children:["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1204)),"D:\\Aetherdesk\\frontend\\src\\app\\page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,4431)),"D:\\Aetherdesk\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["D:\\Aetherdesk\\frontend\\src\\app\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5493:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},6648:(e,t,r)=>{Promise.resolve().then(r.bind(r,1204))},6935:(e,t,r)=>{Promise.resolve().then(r.bind(r,2554))},7320:(e,t,r)=>{Promise.resolve().then(r.bind(r,7652))},7652:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>V});var s=r(687),a=r(3210),i=r(6189);function o(){let[e,t]=(0,a.useState)([]),[r,i]=(0,a.useState)(""),[o,n]=(0,a.useState)(!1),[l,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1),p=(0,a.useRef)(null),h=async()=>{if(!r.trim())return;let e={from:"user",text:r.trim(),timestamp:new Date().toISOString()};t(t=>[...t,e]),i(""),n(!0);try{let r=localStorage.getItem("token"),s=await fetch("/api/ai",{method:"POST",headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`}},body:JSON.stringify({message:e.text,sessionId:l})}),a=await s.json();if(s.ok)a.sessionId&&a.sessionId!==l&&d(a.sessionId),t(e=>[...e,{from:"ai",text:a.response,timestamp:a.timestamp}]);else{let e=a.error||a.message||`Server error: ${s.status} ${s.statusText}`;console.error("API Error:",e),t(t=>[...t,{from:"ai",text:`Error: ${e}`}])}}catch(r){console.error("Network error:",r);let e=r instanceof Error?r.message:"Unknown network error";t(t=>[...t,{from:"ai",text:`Network error: ${e}`}])}finally{n(!1)}},m=async()=>{if(!l)return void t([]);try{let e=await fetch("/api/ai/clear",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:l})});if(!e.ok){let r=await e.json(),s=r.error||r.message||`Error: ${e.status} ${e.statusText}`;console.error("Clear conversation error:",s),t(e=>[...e,{from:"ai",text:`Error clearing conversation: ${s}`}]);return}t([]),d(null)}catch(e){console.error("Error clearing conversation:",e),t([]),d(null)}},x=({isThinking:e=!1})=>(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("div",{className:`w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 p-0.5 ${e?"animate-pulse":""}`,children:(0,s.jsxs)("div",{className:"w-full h-full bg-gray-900 rounded-2xl flex items-center justify-center relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"flex space-x-2 mb-1",children:[(0,s.jsx)("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400 animate-ping":"bg-cyan-400"}`}),(0,s.jsx)("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400 animate-ping":"bg-cyan-400"}`,style:{animationDelay:"0.2s"}})]}),(0,s.jsx)("div",{className:"w-4 h-1 bg-cyan-400 rounded-full opacity-80"})]}),(0,s.jsxs)("div",{className:"absolute inset-0 opacity-20",children:[(0,s.jsx)("div",{className:"absolute top-1 left-1 w-1 h-1 bg-cyan-400 rounded-full animate-pulse"}),(0,s.jsx)("div",{className:"absolute top-2 right-1 w-0.5 h-0.5 bg-purple-400 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),(0,s.jsx)("div",{className:"absolute bottom-1 left-2 w-0.5 h-0.5 bg-pink-400 rounded-full animate-pulse",style:{animationDelay:"1s"}})]})]})})}),b=()=>(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-pink-500 flex items-center justify-center text-white font-bold text-sm shadow-lg",children:"U"});return c?(0,s.jsx)("div",{className:"fixed bottom-6 right-6 z-50",children:(0,s.jsxs)("div",{className:"w-96 h-[500px] bg-gray-900/95 backdrop-blur-xl rounded-3xl shadow-2xl border border-gray-700/50 overflow-hidden",children:[(0,s.jsxs)("div",{className:"relative p-4 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600",children:[(0,s.jsx)("div",{className:"absolute inset-0 opacity-20",children:(0,s.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 animate-pulse"})}),(0,s.jsxs)("div",{className:"relative flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(x,{}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-white font-bold text-lg",children:"AI Assistant"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,s.jsx)("span",{className:"text-xs text-gray-200",children:"Online • Neural Network Active"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:m,disabled:o,className:"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Clear conversation",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,s.jsx)("button",{onClick:()=>u(!1),className:"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),(0,s.jsxs)("div",{className:"flex-1 p-4 h-80 overflow-y-auto bg-gray-900/50 space-y-4 scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:[0===e.length&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x,{}),(0,s.jsx)("div",{className:"absolute -inset-4 rounded-full bg-gradient-to-r from-blue-500/20 to-purple-500/20 animate-ping"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"text-white font-medium",children:"Hello! Its your AI Assistant"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Ask me anything about your support tickets or platform features!"})]})]}),e.map((e,t)=>(0,s.jsxs)("div",{className:`flex items-end space-x-3 ${"user"===e.from?"flex-row-reverse space-x-reverse":""}`,children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:"user"===e.from?(0,s.jsx)(b,{}):(0,s.jsx)(x,{})}),(0,s.jsxs)("div",{className:`relative max-w-[70%] ${"user"===e.from?"ml-auto":""}`,children:[(0,s.jsxs)("div",{className:`
                  px-4 py-3 rounded-3xl shadow-lg backdrop-blur-sm border
                  ${"user"===e.from?"bg-gradient-to-br from-orange-500 to-pink-500 text-white border-orange-400/30 rounded-br-md":"bg-gray-800/80 text-gray-100 border-gray-600/30 rounded-bl-md"}
                `,children:[(0,s.jsx)("p",{className:"text-sm leading-relaxed break-words",children:e.text}),e.timestamp&&(0,s.jsx)("div",{className:`text-xs mt-2 opacity-60 ${"user"===e.from?"text-right text-orange-100":"text-gray-400"}`,children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,s.jsx)("div",{className:`absolute top-4 w-3 h-3 transform rotate-45 ${"user"===e.from?"right-0 translate-x-1.5 bg-gradient-to-br from-orange-500 to-pink-500":"left-0 -translate-x-1.5 bg-gray-800/80"}`})]})]},t)),o&&(0,s.jsxs)("div",{className:"flex items-end space-x-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(x,{isThinking:!0})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"bg-gray-800/80 text-gray-100 border border-gray-600/30 px-4 py-3 rounded-3xl rounded-bl-md backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("div",{className:"flex space-x-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-bounce"}),(0,s.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,s.jsx)("div",{className:"w-2 h-2 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),(0,s.jsx)("span",{className:"text-sm text-gray-300",children:"Processing your message..."})]})}),(0,s.jsx)("div",{className:"absolute top-4 left-0 -translate-x-1.5 w-3 h-3 bg-gray-800/80 transform rotate-45"})]})]}),(0,s.jsx)("div",{ref:p})]}),(0,s.jsxs)("div",{className:"p-4 bg-white backdrop-blur border-t border-white",children:[(0,s.jsx)("div",{className:"flex items-end space-x-3",children:(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)("textarea",{rows:1,value:r,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),h())},disabled:o,placeholder:"Type your message to the AI...",className:"w-full bg-gray-700/50 text-white placeholder-gray-400 border border-gray-600/50 rounded-2xl px-4 py-3 pr-12 resize-none focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 backdrop-blur-sm transition-all",style:{maxHeight:"100px"}}),(0,s.jsx)("button",{onClick:h,disabled:o||!r.trim(),className:"absolute right-2 bottom-2 w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 disabled:from-gray-600 disabled:to-gray-600 rounded-full flex items-center justify-center transition-all transform hover:scale-110 disabled:scale-100",children:o?(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,s.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-center mt-2 space-x-2 text-xs text-gray-400",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse"}),(0,s.jsx)("span",{children:"Aether AI • Ready"})]}),l&&(0,s.jsxs)("span",{className:"opacity-50",children:["• Session: ",l.substring(0,8)]})]})]})]})}):(0,s.jsx)("div",{className:"fixed bottom-6 right-6 z-50",children:(0,s.jsxs)("button",{onClick:()=>u(!0),className:"group relative w-16 h-16 bg-gradient-to-br from-blue-500 via-purple-600 to-pink-500 rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-110 hover:rotate-12",children:[(0,s.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-br from-blue-500 via-purple-600 to-pink-500 rounded-full opacity-30 group-hover:opacity-50 animate-pulse"}),(0,s.jsx)("div",{className:"relative w-full h-full bg-gray-900 rounded-full flex items-center justify-center",children:(0,s.jsx)(x,{})}),(0,s.jsx)("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-xs text-white font-bold animate-bounce",children:"AI"})]})})}var n=r(8931),l=r(9431),d=r(5294),c=r(986),u=r(2879),p=r(7463),h=r(6862),m=r(1434),x=r(5685),b=r(997),g=r(1711),f=r(3832),v=r(2260),y=r(6998),j=r(636),w=r(6533),A=r(6184),k=r(6803),N=r(1176),C=r(3428);let P=(0,C.A)((0,s.jsx)("path",{d:"m12.36 6 .4 2H18v6h-3.36l-.4-2H7V6zM14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6z"}),"FlagOutlined"),S=(0,C.A)((0,s.jsx)("path",{d:"M14.4 6 14 4H5v17h2v-7h5.6l.4 2h7V6z"}),"Flag"),I=(0,C.A)((0,s.jsx)("path",{d:"m14 6-1-2H5v17h2v-7h5l1 2h7V6zm4 8h-4l-1-2H7V6h5l1 2h5z"}),"OutlinedFlag"),$=(0,C.A)((0,s.jsx)("path",{d:"M22 10V6c0-1.11-.9-2-2-2H4c-1.1 0-1.99.89-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-4c-1.1 0-2-.9-2-2s.9-2 2-2m-9 7.5h-2v-2h2zm0-4.5h-2v-2h2zm0-4.5h-2v-2h2z"}),"ConfirmationNumber"),z=(0,C.A)((0,s.jsx)("path",{d:"M5 4v3h5.5v12h3V7H19V4z"}),"Title"),M=(0,C.A)((0,s.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description");var O=r(1588);let T=(0,C.A)((0,s.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),R=(0,C.A)((0,s.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard");var D=r(1052),H=r(3806);let L=(0,D.A)({palette:{primary:{main:"#6366f1",light:"#818cf8",dark:"#4f46e5"},secondary:{main:"#f59e0b",light:"#fbbf24",dark:"#d97706"},success:{main:"#10b981",light:"#34d399",dark:"#059669"},warning:{main:"#f59e0b",light:"#fbbf24",dark:"#d97706"},error:{main:"#ef4444",light:"#f87171",dark:"#dc2626"},background:{default:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",paper:"#ffffff"}},typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h4:{fontWeight:700},h6:{fontWeight:600}},shape:{borderRadius:16},components:{MuiCard:{styleOverrides:{root:{boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)",backdropFilter:"blur(20px)",background:"rgba(255, 255, 255, 0.95)"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:12,transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-1px)"},"&.Mui-focused":{transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.15)"}}}}},MuiButton:{styleOverrides:{root:{textTransform:"none",borderRadius:12,padding:"12px 24px",fontSize:"1rem",fontWeight:600,transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(245, 158, 11, 0.3)"}}}},MuiSelect:{styleOverrides:{root:{borderRadius:12,transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-1px)"},"&.Mui-focused":{transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.15)"}}}}}});function V(){let[e,t]=(0,a.useState)({title:"",description:"",priority:"low"}),[r,C]=(0,a.useState)(""),[D,V]=(0,a.useState)(!1),E=(0,i.useRouter)(),_=s=>{t({...e,[s.target.name]:s.target.value}),r&&C("")},B=async t=>{t.preventDefault(),V(!0),C("");try{console.log("Creating ticket with:",{title:e.title,description:e.description,priority:e.priority});let t=localStorage.getItem("token"),r=JSON.parse(localStorage.getItem("user")||"{}");if(!t)return void C("No authentication token found");if(!r.id)return void C("User ID not found");let s={title:e.title,description:e.description,priority:e.priority,createdBy:r.id},a=await fetch("https://aetherdesk.onrender.com/tickets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(s)});console.log("Response status:",a.status);let i=await a.json();console.log("Response data:",i),a.ok?(console.log("Ticket created successfully, redirecting to dashboard"),E.push("/dashboard")):C(i.error||i.message||"Ticket creation failed")}catch(e){console.error("Error creating ticket:",e),C("Network error or server unavailable")}finally{V(!1)}},W=[{value:"low",label:"Low Priority",icon:(0,s.jsx)(P,{}),color:"success",chipColor:"#10b981"},{value:"medium",label:"Medium Priority",icon:(0,s.jsx)(S,{}),color:"warning",chipColor:"#f59e0b"},{value:"high",label:"High Priority",icon:(0,s.jsx)(I,{}),color:"error",chipColor:"#ef4444"}];return(0,s.jsx)(H.A,{theme:L,children:(0,s.jsxs)(n.A,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f59e0b 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:2,position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 30% 70%, rgba(255,255,255,0.1) 0%, transparent 50%), radial-gradient(circle at 70% 30%, rgba(255,255,255,0.1) 0%, transparent 50%)"}},children:[(0,s.jsx)(n.A,{sx:{position:"absolute",bottom:20,right:20,zIndex:1e3},children:(0,s.jsx)(o,{})}),(0,s.jsx)(l.A,{maxWidth:"sm",children:(0,s.jsx)(d.A,{in:!0,timeout:800,children:(0,s.jsxs)(c.A,{sx:{position:"relative",zIndex:1,maxWidth:520,mx:"auto",borderRadius:4,overflow:"hidden"},children:[(0,s.jsxs)(n.A,{sx:{background:"linear-gradient(135deg, #f59e0b 0%, #6366f1 50%, #8b5cf6 100%)",p:4,textAlign:"center",color:"white"},children:[(0,s.jsx)(u.A,{sx:{width:80,height:80,mx:"auto",mb:2,bgcolor:"rgba(255,255,255,0.2)",backdropFilter:"blur(10px)"},children:(0,s.jsx)($,{sx:{fontSize:40}})}),(0,s.jsx)(p.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Create Support Ticket"}),(0,s.jsx)(p.A,{variant:"body1",sx:{opacity:.9},children:"Tell us how we can help you today"})]}),(0,s.jsxs)(h.A,{sx:{p:4},children:[r&&(0,s.jsx)(d.A,{in:!0,children:(0,s.jsx)(m.A,{severity:"error",sx:{mb:3,borderRadius:2,"& .MuiAlert-icon":{alignItems:"center"}},children:r})}),(0,s.jsxs)(x.A,{spacing:3,component:"form",onSubmit:B,children:[(0,s.jsx)(b.A,{fullWidth:!0,type:"text",name:"title",label:"Ticket Title",value:e.title,onChange:_,required:!0,disabled:D,placeholder:"Brief description of your issue",InputProps:{startAdornment:(0,s.jsx)(g.A,{position:"start",children:(0,s.jsx)(z,{color:"secondary"})})},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"rgba(245, 158, 11, 0.03)"}}}),(0,s.jsx)(b.A,{fullWidth:!0,multiline:!0,rows:4,name:"description",label:"Description",value:e.description,onChange:_,required:!0,disabled:D,placeholder:"Please provide detailed information about your issue...",InputProps:{startAdornment:(0,s.jsx)(g.A,{position:"start",sx:{alignSelf:"flex-start",mt:1},children:(0,s.jsx)(M,{color:"secondary"})})},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"rgba(245, 158, 11, 0.03)"}}}),(0,s.jsxs)(f.A,{fullWidth:!0,required:!0,children:[(0,s.jsx)(v.A,{id:"priority-label",children:"Priority Level"}),(0,s.jsx)(y.A,{labelId:"priority-label",name:"priority",value:e.priority,label:"Priority Level",onChange:s=>{t({...e,priority:s.target.value}),r&&C("")},disabled:D,startAdornment:(0,s.jsx)(g.A,{position:"start",children:(0,s.jsx)(O.A,{color:"secondary"})}),sx:{backgroundColor:"rgba(245, 158, 11, 0.03)"},children:W.map(e=>(0,s.jsx)(j.A,{value:e.value,children:(0,s.jsxs)(x.A,{direction:"row",alignItems:"center",spacing:2,sx:{width:"100%"},children:[(0,s.jsx)(n.A,{sx:{color:e.chipColor},children:e.icon}),(0,s.jsx)(p.A,{sx:{flex:1},children:e.label}),(0,s.jsx)(w.A,{size:"small",label:e.value.toUpperCase(),sx:{bgcolor:e.chipColor,color:"white",fontWeight:600,fontSize:"0.7rem"}})]})},e.value))})]}),(0,s.jsx)(n.A,{sx:{pt:1},children:(0,s.jsx)(A.A,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:D||!e.title||!e.description,sx:{background:"linear-gradient(135deg, #f59e0b 0%, #6366f1 100%)",py:1.5,fontSize:"1.1rem","&:hover":{background:"linear-gradient(135deg, #d97706 0%, #4f46e5 100%)"},"&:disabled":{background:"linear-gradient(135deg, #94a3b8 0%, #64748b 100%)"}},children:D?(0,s.jsxs)(x.A,{direction:"row",alignItems:"center",spacing:2,children:[(0,s.jsx)(k.A,{size:20,color:"inherit"}),(0,s.jsx)(p.A,{children:"Creating Ticket..."})]}):(0,s.jsxs)(x.A,{direction:"row",alignItems:"center",spacing:1,children:[(0,s.jsx)(T,{}),(0,s.jsx)(p.A,{children:"Submit Ticket"})]})})})]})]}),(0,s.jsx)(N.A,{}),(0,s.jsxs)(n.A,{sx:{p:3,textAlign:"center",bgcolor:"rgba(245, 158, 11, 0.02)"},children:[(0,s.jsx)(p.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Need to check existing tickets?"}),(0,s.jsx)(A.A,{variant:"outlined",color:"primary",onClick:()=>E.push("/dashboard"),disabled:D,startIcon:(0,s.jsx)(R,{}),sx:{borderRadius:2,px:3,"&:hover":{backgroundColor:"rgba(99, 102, 241, 0.1)",borderColor:"primary.main"}},children:"Go to Dashboard"})]})]})})}),(0,s.jsx)(n.A,{sx:{position:"absolute",top:"12%",left:"6%",width:60,height:60,borderRadius:"50%",background:"rgba(255,255,255,0.1)",animation:"float 6s ease-in-out infinite","@keyframes float":{"0%, 100%":{transform:"translateY(0px)"},"50%":{transform:"translateY(-20px)"}}}}),(0,s.jsx)(n.A,{sx:{position:"absolute",top:"70%",right:"12%",width:40,height:40,borderRadius:"50%",background:"rgba(255,255,255,0.08)",animation:"float 4s ease-in-out infinite reverse"}}),(0,s.jsx)(n.A,{sx:{position:"absolute",bottom:"25%",left:"18%",width:35,height:35,borderRadius:"50%",background:"rgba(255,255,255,0.06)",animation:"float 7s ease-in-out infinite"}}),(0,s.jsx)(n.A,{sx:{position:"absolute",top:"30%",right:"25%",width:25,height:25,borderRadius:"50%",background:"rgba(255,255,255,0.05)",animation:"float 5s ease-in-out infinite"}})]})})}},8780:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,AuthProvider:()=>o});var s=r(687),a=r(3210);let i=(0,a.createContext)(void 0);function o({children:e}){let[t,r]=(0,a.useState)(null),[o,n]=(0,a.useState)(null);return(0,s.jsx)(i.Provider,{value:{token:t,user:o,setToken:e=>{r(e),e?localStorage.setItem("token",e):localStorage.removeItem("token")},setUser:e=>{n(e),e?localStorage.setItem("user",JSON.stringify(e)):localStorage.removeItem("user")},logout:()=>{r(null),n(null),localStorage.removeItem("token"),localStorage.removeItem("user")}},children:e})}function n(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[719,825,545,851,611,178],()=>r(4874));module.exports=s})();